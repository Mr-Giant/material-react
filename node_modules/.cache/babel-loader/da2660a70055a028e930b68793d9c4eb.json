{"ast":null,"code":"import _regeneratorRuntime from \"/Users/zhangfan/dav/Takeaway/material-dashboard-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(getTemp),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(getGithubInfo),\n    _marked3 = /*#__PURE__*/_regeneratorRuntime.mark(watchCommon);\n\nimport axios from 'axios';\nimport { fork, put, takeEvery } from 'redux-saga/effects';\nimport { // 模板\ntempGetInfo, tempSetInfo // github 个人信息\n, fetchGitInfo, setGithubInfo } from './action';\n\nfunction getTemp() {\n  var result;\n  return _regeneratorRuntime.wrap(function getTemp$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          result = 'temp';\n          _context.next = 3;\n          return put(tempSetInfo(result));\n\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked);\n} // 请求github\n\n\nfunction getGithubInfo(action) {\n  var username, result;\n  return _regeneratorRuntime.wrap(function getGithubInfo$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          username = action.payload.username;\n          _context2.prev = 1;\n          _context2.next = 4;\n          return axios.get(\"https://api.github.com/users/\".concat(username));\n\n        case 4:\n          result = _context2.sent;\n          console.log(action, result, 'saga.....');\n          _context2.next = 8;\n          return put(setGithubInfo(result.data));\n\n        case 8:\n          _context2.next = 13;\n          break;\n\n        case 10:\n          _context2.prev = 10;\n          _context2.t0 = _context2[\"catch\"](1);\n          console.log(_context2.t0, 'Github info load error');\n\n        case 13:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, null, [[1, 10]]);\n}\n\nfunction watchCommon() {\n  return _regeneratorRuntime.wrap(function watchCommon$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.next = 2;\n          return takeEvery(tempGetInfo, getTemp);\n\n        case 2:\n          _context3.t0 = console;\n          _context3.next = 5;\n          return takeEvery(fetchGitInfo, getGithubInfo);\n\n        case 5:\n          _context3.t1 = _context3.sent;\n\n          _context3.t0.error.call(_context3.t0, _context3.t1);\n\n          _context3.next = 9;\n          return takeEvery(fetchGitInfo, getGithubInfo);\n\n        case 9:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3);\n}\n\nexport default [fork(watchCommon)];","map":{"version":3,"sources":["/Users/zhangfan/dav/Takeaway/material-dashboard-react/src/store/modules/common/saga.js"],"names":["getTemp","getGithubInfo","watchCommon","axios","fork","put","takeEvery","tempGetInfo","tempSetInfo","fetchGitInfo","setGithubInfo","result","action","username","payload","get","console","log","data","error"],"mappings":";;oDAYUA,O;qDAMAC,a;qDAWAC,W;;AA7BV,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,SAApB,QAAqC,oBAArC;AAEA,SACE;AACAC,WAFF,EAGEC,WAHF,CAIE;AAJF,EAKEC,YALF,EAMEC,aANF,QAOO,UAPP;;AASA,SAAUV,OAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACQW,UAAAA,MADR,GACiB,MADjB;AAAA;AAEE,iBAAMN,GAAG,CAACG,WAAW,CAACG,MAAD,CAAZ,CAAT;;AAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,C,CAKA;;;AACA,SAAUV,aAAV,CAAwBW,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AACUC,UAAAA,QADV,GACuBD,MAAM,CAACE,OAD9B,CACUD,QADV;AAAA;AAAA;AAGmB,iBAAMV,KAAK,CAACY,GAAN,wCAA0CF,QAA1C,EAAN;;AAHnB;AAGUF,UAAAA,MAHV;AAIIK,UAAAA,OAAO,CAACC,GAAR,CAAYL,MAAZ,EAAoBD,MAApB,EAA4B,WAA5B;AAJJ;AAKI,iBAAMN,GAAG,CAACK,aAAa,CAACC,MAAM,CAACO,IAAR,CAAd,CAAT;;AALJ;AAAA;AAAA;;AAAA;AAAA;AAAA;AAOIF,UAAAA,OAAO,CAACC,GAAR,eAAmB,wBAAnB;;AAPJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAWA,SAAUf,WAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACE,iBAAMI,SAAS,CAACC,WAAD,EAAcP,OAAd,CAAf;;AADF;AAAA,yBAGEgB,OAHF;AAAA;AAGgB,iBAAMV,SAAS,CAACG,YAAD,EAAeR,aAAf,CAAf;;AAHhB;AAAA;;AAAA,uBAGUkB,KAHV;;AAAA;AAIE,iBAAMb,SAAS,CAACG,YAAD,EAAeR,aAAf,CAAf;;AAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAOA,eAAe,CAACG,IAAI,CAACF,WAAD,CAAL,CAAf","sourcesContent":["import axios from 'axios'\nimport { fork, put, takeEvery } from 'redux-saga/effects'\n\nimport {\n  // 模板\n  tempGetInfo,\n  tempSetInfo,\n  // github 个人信息\n  fetchGitInfo,\n  setGithubInfo,\n} from './action'\n\nfunction* getTemp() {\n  const result = 'temp'\n  yield put(tempSetInfo(result))\n}\n\n// 请求github\nfunction* getGithubInfo(action) {\n  const { username } = action.payload\n  try {\n    const result = yield axios.get(`https://api.github.com/users/${username}`)\n    console.log(action, result, 'saga.....')\n    yield put(setGithubInfo(result.data))\n  } catch (error) {\n    console.log(error, 'Github info load error')\n  }\n}\n\nfunction* watchCommon() {\n  yield takeEvery(tempGetInfo, getTemp)\n  // 请求接口\n  console.error(yield takeEvery(fetchGitInfo, getGithubInfo));\n  yield takeEvery(fetchGitInfo, getGithubInfo)\n}\n\nexport default [fork(watchCommon)]\n\n"]},"metadata":{},"sourceType":"module"}