{"ast":null,"code":"import _objectSpread from \"/Users/zhangfan/dav/Takeaway/material-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/Users/zhangfan/dav/Takeaway/material-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/zhangfan/dav/Takeaway/material-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\n\n// button wave effect while clicking\nvar ButtonWaveEffect = /*#__PURE__*/function () {\n  function ButtonWaveEffect() {\n    _classCallCheck(this, ButtonWaveEffect);\n\n    this.duration = 750;\n    this.className = \"JS-WAVE-EFFRCT\";\n  }\n\n  _createClass(ButtonWaveEffect, [{\n    key: \"resetStyle\",\n    value: function resetStyle(styles) {\n      var styleStr = \"\";\n\n      for (var key in styles) {\n        if (styles.hasOwnProperty(key)) styleStr += key + ':' + styles[key] + ';';\n      }\n\n      return styleStr;\n    }\n  }, {\n    key: \"getPointerPosition\",\n    value: function getPointerPosition(target) {\n      var position = {\n        top: 0,\n        left: 0\n      };\n      var elem = document.documentElement;\n      target.getBoundingClientRect && (position = target.getBoundingClientRect());\n      return {\n        top: position.top + window.pageYOffset - elem.clientTop,\n        left: position.left + window.pageXOffset - elem.clientLeft\n      };\n    }\n  }, {\n    key: \"showWave\",\n    value: function showWave(event) {\n      var _this = this;\n\n      var targetElem = event.target;\n      var waveElem = document.createElement('div');\n      targetElem.appendChild(waveElem); // get target position\n\n      var rectObject = this.getPointerPosition(targetElem);\n\n      var _height = event.pageY - rectObject.top;\n\n      var _left = event.pageX - rectObject.left;\n\n      var _scale = 'scale(' + targetElem.clientWidth / 100 * 10 + ')'; // default style\n\n\n      var defaultStyle = {\n        \"position\": \"absolute\",\n        \"border-radius\": \"50%\",\n        \"width\": \"25px\",\n        \"height\": \"25px\",\n        \"opacity\": \"0\",\n        \"background\": \"rgba(255, 255, 255, 0.3)\",\n        \"transition\": \"all 0.7s ease-out\",\n        \"transition-property\": \"transform, opacity, -webkit-transform\",\n        \"-webkit-transform\": \"scale(0)\",\n        \"transform\": \"scale(0)\",\n        \"pointer-events\": \"none\",\n        \"top\": _height + 'px',\n        \"left\": _left + 'px'\n      }; // set default style\n\n      waveElem.setAttribute(\"style\", this.resetStyle(defaultStyle));\n      waveElem.className = this.className; // add style\n\n      var newStyle = _objectSpread({}, defaultStyle);\n\n      newStyle[\"-webkit-transform\"] = _scale;\n      newStyle[\"transform\"] = _scale;\n      newStyle[\"opacity\"] = \"1\";\n      newStyle[\"-webkit-transition-duration\"] = this.duration + \"ms\";\n      newStyle[\"transition-duration\"] = this.duration + \"ms\";\n      newStyle[\"-webkit-transition-timing-function\"] = \"cubic-bezier(0.250, 0.460, 0.450, 0.940)\";\n      newStyle[\"transition-timing-function\"] = \"cubic-bezier(0.250, 0.460, 0.450, 0.940)\"; // set new style\n\n      waveElem.setAttribute(\"style\", this.resetStyle(newStyle)); // temp style\n\n      var endStyle = _objectSpread({}, defaultStyle);\n\n      endStyle[\"-webkit-transform\"] = _scale;\n      endStyle[\"transform\"] = _scale;\n      endStyle[\"-webkit-transition-duration\"] = this.duration + \"ms\";\n      endStyle[\"transition-duration\"] = this.duration + \"ms\"; // toggle style\n\n      setTimeout(function () {\n        waveElem.setAttribute(\"style\", _this.resetStyle(endStyle)); // remove elem\n\n        setTimeout(function () {\n          targetElem.removeChild(waveElem);\n        }, _this.duration);\n      }, 100);\n    }\n  }]);\n\n  return ButtonWaveEffect;\n}();\n\nexport default ButtonWaveEffect;","map":{"version":3,"sources":["/Users/zhangfan/dav/Takeaway/material-react/src/utils/ButtonWaveEffect.js"],"names":["ButtonWaveEffect","duration","className","styles","styleStr","key","hasOwnProperty","target","position","top","left","elem","document","documentElement","getBoundingClientRect","window","pageYOffset","clientTop","pageXOffset","clientLeft","event","targetElem","waveElem","createElement","appendChild","rectObject","getPointerPosition","_height","pageY","_left","pageX","_scale","clientWidth","defaultStyle","setAttribute","resetStyle","newStyle","endStyle","setTimeout","removeChild"],"mappings":";;;;AAAA;IACMA,gB;AACF,8BAAc;AAAA;;AACV,SAAKC,QAAL,GAAgB,GAAhB;AACA,SAAKC,SAAL,GAAiB,gBAAjB;AACH;;;;+BACUC,M,EAAQ;AACf,UAAIC,QAAQ,GAAG,EAAf;;AACA,WAAK,IAAIC,GAAT,IAAgBF,MAAhB,EAAwB;AACpB,YAAIA,MAAM,CAACG,cAAP,CAAsBD,GAAtB,CAAJ,EAAgCD,QAAQ,IAAIC,GAAG,GAAG,GAAN,GAAYF,MAAM,CAACE,GAAD,CAAlB,GAA0B,GAAtC;AACnC;;AACD,aAAOD,QAAP;AACH;;;uCACkBG,M,EAAQ;AACvB,UAAIC,QAAQ,GAAG;AACXC,QAAAA,GAAG,EAAE,CADM;AAEXC,QAAAA,IAAI,EAAE;AAFK,OAAf;AAIA,UAAMC,IAAI,GAAGC,QAAQ,CAACC,eAAtB;AACAN,MAAAA,MAAM,CAACO,qBAAP,KAAiCN,QAAQ,GAAGD,MAAM,CAACO,qBAAP,EAA5C;AACA,aAAO;AACHL,QAAAA,GAAG,EAAED,QAAQ,CAACC,GAAT,GAAeM,MAAM,CAACC,WAAtB,GAAoCL,IAAI,CAACM,SAD3C;AAEHP,QAAAA,IAAI,EAAEF,QAAQ,CAACE,IAAT,GAAgBK,MAAM,CAACG,WAAvB,GAAqCP,IAAI,CAACQ;AAF7C,OAAP;AAIH;;;6BACQC,K,EAAO;AAAA;;AACZ,UAAMC,UAAU,GAAGD,KAAK,CAACb,MAAzB;AACA,UAAMe,QAAQ,GAAGV,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAjB;AACAF,MAAAA,UAAU,CAACG,WAAX,CAAuBF,QAAvB,EAHY,CAIZ;;AACA,UAAMG,UAAU,GAAG,KAAKC,kBAAL,CAAwBL,UAAxB,CAAnB;;AACA,UAAMM,OAAO,GAAGP,KAAK,CAACQ,KAAN,GAAcH,UAAU,CAAChB,GAAzC;;AACA,UAAMoB,KAAK,GAAGT,KAAK,CAACU,KAAN,GAAcL,UAAU,CAACf,IAAvC;;AACA,UAAMqB,MAAM,GAAG,WAAWV,UAAU,CAACW,WAAX,GAAyB,GAAzB,GAA+B,EAA1C,GAA+C,GAA9D,CARY,CASZ;;;AACA,UAAMC,YAAY,GAAG;AACjB,oBAAY,UADK;AAEjB,yBAAiB,KAFA;AAGjB,iBAAS,MAHQ;AAIjB,kBAAU,MAJO;AAKjB,mBAAW,GALM;AAMjB,sBAAc,0BANG;AAOjB,sBAAc,mBAPG;AAQjB,+BAAuB,uCARN;AASjB,6BAAqB,UATJ;AAUjB,qBAAa,UAVI;AAWjB,0BAAkB,MAXD;AAYjB,eAAON,OAAO,GAAG,IAZA;AAajB,gBAAQE,KAAK,GAAG;AAbC,OAArB,CAVY,CAyBZ;;AACAP,MAAAA,QAAQ,CAACY,YAAT,CAAsB,OAAtB,EAA+B,KAAKC,UAAL,CAAgBF,YAAhB,CAA/B;AACAX,MAAAA,QAAQ,CAACpB,SAAT,GAAqB,KAAKA,SAA1B,CA3BY,CA4BZ;;AACA,UAAMkC,QAAQ,qBAAQH,YAAR,CAAd;;AACAG,MAAAA,QAAQ,CAAC,mBAAD,CAAR,GAAgCL,MAAhC;AACAK,MAAAA,QAAQ,CAAC,WAAD,CAAR,GAAwBL,MAAxB;AACAK,MAAAA,QAAQ,CAAC,SAAD,CAAR,GAAsB,GAAtB;AACAA,MAAAA,QAAQ,CAAC,6BAAD,CAAR,GAA0C,KAAKnC,QAAL,GAAgB,IAA1D;AACAmC,MAAAA,QAAQ,CAAC,qBAAD,CAAR,GAAkC,KAAKnC,QAAL,GAAgB,IAAlD;AACAmC,MAAAA,QAAQ,CAAC,oCAAD,CAAR,GAAiD,0CAAjD;AACAA,MAAAA,QAAQ,CAAC,4BAAD,CAAR,GAAyC,0CAAzC,CApCY,CAqCZ;;AACAd,MAAAA,QAAQ,CAACY,YAAT,CAAsB,OAAtB,EAA+B,KAAKC,UAAL,CAAgBC,QAAhB,CAA/B,EAtCY,CAuCZ;;AACA,UAAMC,QAAQ,qBAAQJ,YAAR,CAAd;;AACAI,MAAAA,QAAQ,CAAC,mBAAD,CAAR,GAAgCN,MAAhC;AACAM,MAAAA,QAAQ,CAAC,WAAD,CAAR,GAAwBN,MAAxB;AACAM,MAAAA,QAAQ,CAAC,6BAAD,CAAR,GAA0C,KAAKpC,QAAL,GAAgB,IAA1D;AACAoC,MAAAA,QAAQ,CAAC,qBAAD,CAAR,GAAkC,KAAKpC,QAAL,GAAgB,IAAlD,CA5CY,CA6CZ;;AACAqC,MAAAA,UAAU,CAAC,YAAM;AACbhB,QAAAA,QAAQ,CAACY,YAAT,CAAsB,OAAtB,EAA+B,KAAI,CAACC,UAAL,CAAgBE,QAAhB,CAA/B,EADa,CAEb;;AACAC,QAAAA,UAAU,CAAC,YAAM;AACbjB,UAAAA,UAAU,CAACkB,WAAX,CAAuBjB,QAAvB;AACH,SAFS,EAEP,KAAI,CAACrB,QAFE,CAAV;AAGH,OANS,EAMP,GANO,CAAV;AAOH;;;;;;AAGL,eAAeD,gBAAf","sourcesContent":["// button wave effect while clicking\r\nclass ButtonWaveEffect {\r\n    constructor() {\r\n        this.duration = 750\r\n        this.className = \"JS-WAVE-EFFRCT\"\r\n    }\r\n    resetStyle(styles) {\r\n        let styleStr = \"\"\r\n        for (let key in styles) {\r\n            if (styles.hasOwnProperty(key)) styleStr += key + ':' + styles[key] + ';'\r\n        }\r\n        return styleStr\r\n    }\r\n    getPointerPosition(target) {\r\n        let position = {\r\n            top: 0,\r\n            left: 0,\r\n        }\r\n        const elem = document.documentElement\r\n        target.getBoundingClientRect && (position = target.getBoundingClientRect())\r\n        return {\r\n            top: position.top + window.pageYOffset - elem.clientTop,\r\n            left: position.left + window.pageXOffset - elem.clientLeft,\r\n        }\r\n    }\r\n    showWave(event) {\r\n        const targetElem = event.target\r\n        const waveElem = document.createElement('div')\r\n        targetElem.appendChild(waveElem)\r\n        // get target position\r\n        const rectObject = this.getPointerPosition(targetElem)\r\n        const _height = event.pageY - rectObject.top\r\n        const _left = event.pageX - rectObject.left\r\n        const _scale = 'scale(' + targetElem.clientWidth / 100 * 10 + ')'\r\n        // default style\r\n        const defaultStyle = {\r\n            \"position\": \"absolute\",\r\n            \"border-radius\": \"50%\",\r\n            \"width\": \"25px\",\r\n            \"height\": \"25px\",\r\n            \"opacity\": \"0\",\r\n            \"background\": \"rgba(255, 255, 255, 0.3)\",\r\n            \"transition\": \"all 0.7s ease-out\",\r\n            \"transition-property\": \"transform, opacity, -webkit-transform\",\r\n            \"-webkit-transform\": \"scale(0)\",\r\n            \"transform\": \"scale(0)\",\r\n            \"pointer-events\": \"none\",\r\n            \"top\": _height + 'px',\r\n            \"left\": _left + 'px',\r\n        }\r\n        // set default style\r\n        waveElem.setAttribute(\"style\", this.resetStyle(defaultStyle))\r\n        waveElem.className = this.className\r\n        // add style\r\n        const newStyle = { ...defaultStyle }\r\n        newStyle[\"-webkit-transform\"] = _scale\r\n        newStyle[\"transform\"] = _scale\r\n        newStyle[\"opacity\"] = \"1\"\r\n        newStyle[\"-webkit-transition-duration\"] = this.duration + \"ms\"\r\n        newStyle[\"transition-duration\"] = this.duration + \"ms\"\r\n        newStyle[\"-webkit-transition-timing-function\"] = \"cubic-bezier(0.250, 0.460, 0.450, 0.940)\"\r\n        newStyle[\"transition-timing-function\"] = \"cubic-bezier(0.250, 0.460, 0.450, 0.940)\"\r\n        // set new style\r\n        waveElem.setAttribute(\"style\", this.resetStyle(newStyle))\r\n        // temp style\r\n        const endStyle = { ...defaultStyle }\r\n        endStyle[\"-webkit-transform\"] = _scale\r\n        endStyle[\"transform\"] = _scale\r\n        endStyle[\"-webkit-transition-duration\"] = this.duration + \"ms\"\r\n        endStyle[\"transition-duration\"] = this.duration + \"ms\"\r\n        // toggle style\r\n        setTimeout(() => {\r\n            waveElem.setAttribute(\"style\", this.resetStyle(endStyle))\r\n            // remove elem\r\n            setTimeout(() => {\r\n                targetElem.removeChild(waveElem)\r\n            }, this.duration)\r\n        }, 100)\r\n    }\r\n}\r\n\r\nexport default ButtonWaveEffect"]},"metadata":{},"sourceType":"module"}